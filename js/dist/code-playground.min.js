/* (c) ClassCube.com */
jQuery(document).ready(function(){classcubePlayground.init()});var classcubePlayground={init:function(){jQuery.each(jQuery(".codeplayground-wrapper [data-editor]"),function(a,b){ace.edit(b,{minLines:5,maxLines:100,fontSize:jQuery(b).data("fontsize"),mode:"ace/mode/"+jQuery(b).data("language"),theme:"ace/theme/"+jQuery(b).data("theme")})});jQuery.each(jQuery('.codeplayground-wrapper button[data-button="reset"]'),function(a,b){jQuery(b).click(function(a){var c=jQuery(b).data("starter");ace.edit(jQuery(b).parents(".codeplayground-wrapper").find(".codeplayground-editor")[0]).session.setValue(c)})});jQuery.each(jQuery('.codeplayground-wrapper button[data-button="submit"]'),function(a,b){jQuery(b).click(function(a){var c=jQuery(b).parents(".codeplayground-wrapper").find(".codeplayground-editor"),d=jQuery(b).parents(".codeplayground-wrapper"),e=c.data("language"),f=ace.edit(c[0]).session.getValue();jQuery.ajax(classcube_playground.ajaxurl,{method:"POST",data:{action:"code_playground",language:e,code:btoa(f)},beforeSend:function(a,b){var c=jQuery(d).find(".codeplayground-console");jQuery(c).empty();jQuery(d).find("button").attr("disabled",!0);jQuery(d).find(".codeplayground-console").append('<div class="cursor blinking" data-running="running">&gt; Running</div>')},complete:function(a,b){jQuery(d).find("button").attr("disabled",!1);jQuery(d).find('.codeplayground-console [data-running="running"]').remove()},error:function(a,b,c){console.info(c);console.info(a);var e=jQuery(d).find(".codeplayground-console");jQuery(e).append('<div class="error">'+c+'</div><div class="cursor">&gt;</div>')},success:function(a,b,c){console.info(a);var e=jQuery(d).find(".codeplayground-console");a.error?jQuery(e).append('<div class="error">'+a.error+"</div>"):a.stderr?jQuery(e).append('<div class="stderr">'+a.stderr+"</div>"):jQuery(e).append('<div class="stdout">'+a.stdout+"</div>");jQuery(e).append('<div class="cursor">&gt;</div>')}})})})}};