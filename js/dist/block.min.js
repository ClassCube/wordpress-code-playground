/* (c) ClassCube.com */
!function(){var a=wp.i18n.__,b=(wp.element.createElement,wp.blocks.registerBlockType);wp.blocks.InspectorControls,wp.blocks.ToggleControl,wp.blocks.BlockControls;b("classcube/code-playground",{title:a("Code Playground","code-playground"),icon:"media-code",category:"common",description:a("Insert a code sandbox for your visitors to play around in","code-playground"),attributes:{code:{"default":""},language:{"default":"java"},extraStyles:{"default":""}},supports:{html:!1,reusable:!1},edit:function(b){var c=wp.element.createElement;interval=setInterval(function(){var a=jQuery('div[data-block="'+b.clientId+'"]');if(jQuery(a).length){if(!a.data("editor-loaded")){ed=ace.edit(jQuery('div[data-editor="'+b.clientId+'"]')[0],{minLines:5,maxLines:1/0,fontSize:classcube_code_playground.font_size+"px",theme:"ace/theme/"+classcube_code_playground.ace_theme});ed.session.setMode("ace/mode/"+b.attributes.language);ed.setValue(jQuery('textarea[data-parent="'+b.clientId+'"]').val(),-1);ed.on("change",function(a){b.setAttributes({code:ed.getValue()})});jQuery('textarea[data-parent="'+b.clientId+'"]').hide();a.data("editor-loaded",!0)}clearInterval(interval)}},250);return c(wp.element.Fragment,null,c(wp.editor.InspectorControls,null,c(wp.components.PanelBody,{title:a("Editor Options","code-playground"),initialOpen:!0},c(wp.components.SelectControl,{label:a("Language","code-playground"),value:b.attributes.language,options:[{label:"Java",value:"java"},{label:"Python",value:"python"}],onChange:function(a){b.setAttributes({language:a});ace.edit(jQuery('div[data-editor="'+b.clientId+'"]')[0]).session.setMode("ace/mode/"+a)}})),c(wp.components.PanelBody,{title:a("Additional Settings","code-playground"),initialOpen:!1},c(wp.components.TextControl,{label:"CSS Style",value:b.attributes.extraStyles,onChange:function(a){b.setAttributes({extraStyles:a})}}))),c(wp.components.TextareaControl,{value:b.attributes.code,style:{display:"none"},onChange:function(a){b.setAttributes({code:a})},"data-parent":b.clientId}),c("div",{"data-parent":b.clientId,style:{width:"100%",height:"100%",position:"relative"}},c("div",{"data-editor":b.clientId,style:{width:"100%",position:"relative"}},"")))},save:function(a){return null}})}();